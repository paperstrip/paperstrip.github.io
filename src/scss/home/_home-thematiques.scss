.home-thematiques {
  display: flex;
  flex-wrap: wrap;

  padding: calc(var(--margin) * 2) var(--margin) var(--margin);
  .sticky-section {
    width: 100%;
    display: flex;
    height: auto;
    flex: 0 0 100%;
    flex-direction: column;
    align-items: center;
    height: auto;
    justify-content: flex-end;
    @include mq('laptop'){
      justify-content: center;
    }
    &.enter-section {
      .thematique-grid__row {
        &:hover {
          z-index: 99;
          .thematique-row__image {
            left: 50%;
            @include mq("mobile") {
              left: 50%;
            }
          }
          &:nth-child(2n + 1) {
            .thematique-row__image {
              @include mq("mobile") {
                left: -50%;
              }
            }
          }
          .thematique-row__text {
            h2 {
              margin-left: 0;
            }

            .meta {
              opacity: 0;
              transform: translateY(-100%);
            }

            .cta {
              opacity: 1;
              transform: translateY(0%);
            }
          }
        }
      }
      .thematique-grid:hover
        > .thematique-grid__row:not(:hover)
        .thematique-row__text {
        opacity: 0.1;
      }

      .thematique-grid:hover > .thematique-grid__row:not(:hover) .cover-image {
        //transform: translateY(calc(100% + 2px));
        opacity: 0;
      }
    }
  }

  .thematique-grid {
    width: 100%;
    margin-top: calc(var(--margin) * 2);
    .thematique-grid__row {
      display: flex;
      color: var(--color);
      text-decoration: none;
      border-bottom: solid 1px rgba(0, 0, 0, 0.2);
      position: relative;
      justify-content: flex-end;
      align-items: center;
      transition: opacity 0.45s $authenticMotion;
      @include mq("mobile") {
        flex-wrap: wrap;
      }
      .thematique-row__image {
        flex: 0 0 33.33%;
        max-width: 33.33%;
        width: 33.33%;
        position: absolute;
        bottom: 0;
        left: 0;
        transition: left 0.45s $authenticMotion;
        pointer-events: none;
        @include mq("desktop") {
          flex: 0 0 25%;
          max-width: 25%;
          width: 25%;
        }
        @include mq("mobile") {
          flex: 0 0 100%;
          max-width: 100%;
          width: 100%;
          position: relative;
          left: 50%;
        }
        .row {
          min-width: 100%;
          display: flex;
          flex-wrap: wrap;
          margin-left: -2px;
          margin-right: -2px;
          .cover-image {
            transition: transform 0.15s $authenticMotion,
              opacity 0.45s $authenticMotion;
          }
          .cover-image-wrapper {
            position: relative;
            padding: 2px;
            overflow: hidden;
            height: 11.18vw;
            @include mq("desktop") {
              height: calc(11.18vw * 0.75);
            }
            @include mq("mobile") {
              height: calc(11.18vw * 3.0003);
            }

            &:nth-child(1) {
              flex: 0 0 19.42%;
              max-width: 19.42%;
              .cover-image {
                width: 100%;
                height: 100%;
              }
            }
            &:nth-child(2) {
              flex: 0 0 30.57%;
              max-width: 30.57%;
              .cover-image {
                width: 100%;
                height: 100%;
              }
            }
            &:nth-child(3) {
              flex: 0 0 14.28%;
              max-width: 14.28%;
              .cover-image {
                width: 100%;
                height: 100%;
              }
            }
            &:nth-child(4) {
              flex: 0 0 35.71%;
              max-width: 35.71%;
              .cover-image {
                width: 100%;
                height: 100%;
              }
            }
          }
        }
      }
      .thematique-row__text {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition: margin 0.45s $authenticMotion,
          opacity 0.45s $authenticMotion;
        overflow: hidden;
        @include mq("mobile") {
          flex-direction: column;
          align-items: flex-start;
        }
        h2 {
          padding: calc(var(--margin) * 0.5) 0;
          margin-left: calc(50% + var(--margin) * 2);
          padding-left: 8.33%;
          transition: margin 0.45s $authenticMotion;
          @include mq("desktop") {
            padding-left: 4.165%;
          }
          @include mq("laptop") {
            margin-left: calc(33.33% + var(--margin) * 2);
          }
          @include mq("mobile") {
            padding-left: 0;
            margin-left: 0;
            padding-bottom: 0;
          }
        }
        .meta {
          margin-right: 0;
          margin-left: auto;
          transition: opacity 0.45s $authenticMotion,
            transform 0.45s $authenticMotion;
          @include mq("mobile") {
            margin-left: 0;
            margin-top: var(--margin);
            margin-bottom: var(--margin);
            width: 100%;
          }
        }
        .cta {
          position: absolute;
          bottom: 0;
          right: 0;
          transform: translateY(100%);
          opacity: 0;
          transition: opacity 0.45s $authenticMotion,
            transform 0.45s $authenticMotion;
          @include mq("mobile") {
            left: 0;
            bottom: var(--margin);
            right: auto;
          }
        }
        .meta__row {
          display: flex;
          justify-content: flex-end;
          @include mq("mobile") {
            justify-content: space-between;
          }
          p {
            margin: 0;
            padding: 0;
            font-size: 10px;
            line-height: 12px;
            font-weight: 300;
            &:nth-child(1) {
              margin-right: calc(var(--margin) * 2);
              @include mq("desktop") {
                margin-right: 15px;
              }
            }
          }
        }
      }
    }

    .thematique-grid__row {
      &:nth-child(6n + 1) {
        .thematique-row__image {
          left: calc(var(--margin) * 2);
          @include mq("laptop") {
            left: calc(var(--margin) * 1);
          }
          @include mq("mobile") {
            left: 0;
          }
        }
      }
      &:nth-child(6n + 2) {
        .thematique-row__image {
          left: calc(var(--margin) * 6);
          @include mq("laptop") {
            left: calc(var(--margin) * 3);
          }
          @include mq("mobile") {
            left: 0;
          }
        }
      }
      &:nth-child(6n + 3) {
        .thematique-row__image {
          left: 0;
          @include mq("mobile") {
            left: 0;
          }
        }
      }
      &:nth-child(6n + 4) {
        .thematique-row__image {
          left: calc(var(--margin) * 4);
          @include mq("laptop") {
            left: calc(var(--margin) * 2);
          }
          @include mq("mobile") {
            left: 0;
          }
        }
      }
      &:nth-child(6n + 5) {
        .thematique-row__image {
          left: calc(var(--margin) * 2);
          @include mq("laptop") {
            left: calc(var(--margin) * 1);
          }
          @include mq("mobile") {
            left: 0;
          }
        }
      }
      &:nth-child(6n + 6) {
        .thematique-row__image {
          left: calc(var(--margin) * 6);
          @include mq("laptop") {
            left: calc(var(--margin) * 3);
          }
          @include mq("mobile") {
            left: 0;
          }
        }
      }

      //
      &:nth-child(6n + 2) {
        .thematique-row__text h2 {
          padding-left: 0;
        }
      }
      &:nth-child(6n + 5) {
        .thematique-row__text h2 {
          padding-left: 0;
        }
      }
    }
  }
}

@include mq("tablet") {
  .thematique-grid__row {
    &:hover {
      z-index: 99;
      .thematique-row__image {
        left: 50%;
        @include mq("mobile") {
          left: 50%;
        }
      }
      &:nth-child(2n + 1) {
        .thematique-row__image {
          @include mq("mobile") {
            left: -50%;
          }
        }
      }
      .thematique-row__text {
        h2 {
          margin-left: 0;
        }

        .meta {
          opacity: 0;
          transform: translateY(-100%);
        }

        .cta {
          opacity: 1;
          transform: translateY(0%);
        }
      }
    }
  }
  .thematique-grid:hover
    > .thematique-grid__row:not(:hover)
    .thematique-row__text {
    opacity: 0.1;
  }

  .thematique-grid:hover > .thematique-grid__row:not(:hover) .cover-image {
    //transform: translateY(calc(100% + 2px));
    opacity: 0;
  }
}
