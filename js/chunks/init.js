"use strict";(self.webpackChunkwibicom_stater_pack=self.webpackChunkwibicom_stater_pack||[]).push([[385],{5652:(e,t,i)=>{i.r(t);var a=i(2726),n=i.n(a),o=i(5880);window.thematiquesTransition={name:"themathiquesTransition",sync:!0,from:{namespace:["thematiquesIndex"]},to:{namespace:["thematiquesDetails"]},before:function(e){var t=this.async();console.log($(e.trigger).parent());var i=o.os.timeline({onComplete:function(){t(),$(document).trigger("app:barba:beforeDone")}});window.thematiquesSlideshow.slideTo($(e.trigger).parent().index(),400),i.to("[data-barba-namespace]:last-child .swiper-top .swiper-slide:not(.swiper-slide-active)",{yPercent:-100,autoAlpha:0,ease:"power2.out"},"hide"),i.to("[data-barba-namespace]:last-child .swiper-content .swiper-slide:not(.swiper-slide-active)",{yPercent:100,autoAlpha:0,ease:"power2.out"},"hide"),i.to("[data-barba-namespace]:last-child .swiper-content .swiper-slide.swiper-slide-active .meta,[data-barba-namespace]:last-child .swiper-content .swiper-slide.swiper-slide-active .btn-cta",{autoAlpha:0,ease:"power2.out"},"hide")},beforeLeave:function(e){var t=this.async();window.globalScroll.smooth.stop(),o.os.set(e.next.container,{autoAlpha:0,position:"absolute",top:0,left:0,width:"100%"}),o.os.set('[data-barba="container"]:last-child .thematique-header__action .btn',{yPercent:100});var i=o.os.timeline({onComplete:function(){t()}}),a=$('[data-barba="container"]:last-child h1'),n=[],r=a[0].getBoundingClientRect();n.fontSize=a.css("font-size"),n.top=r.top,n.left=r.left,n.width=r.width;var s=$('[data-barba="container"]:first-child .swiper-slide.swiper-slide-active h2')[0].getBoundingClientRect(),l=[],d=$('[data-barba="container"]:last-child .row.gallery')[0].getBoundingClientRect(),c=$('[data-barba="container"]:first-child .row.gallery')[0].getBoundingClientRect();l.top=d.top,l.left=d.x,l.width=d.width,console.log(r),o.os.set('[data-barba="container"]:first-child .swiper-content .swiper-slide.swiper-slide-active h2',{position:"absolute"}),o.os.set('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery',{position:"absolute",minWidth:"auto",transformOrigin:"top center",width:c.width}),i.to('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery',{y:-c.top-c.height+l.top,duration:.8,ease:"power2.inOut"},"order"),i.to('[data-barba="container"]:first-child .swiper-content .swiper-slide.swiper-slide-active h2',{fontSize:n.fontSize,y:-s.top+n.top,duration:.8,ease:"power2.inOut"},"order"),i.to('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery',{x:l.width/2-c.width/2-2.5,width:l.width,duration:.8,ease:"power2.out"},"scale"),i.to('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery',{marginLeft:"-5px",marginRight:"-5px",duration:.8,ease:"power2.out"},"scale"),i.to('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery .cover-image-wrapper',{padding:"5px",duration:.8,ease:"power2.out"},"scale"),i.to('[data-barba="container"]:first-child .swiper-content .swiper-slide.swiper-slide-active h2',{x:-(window.innerWidth/2-n.width/2)+n.left,duration:.8,ease:"power2.out"},"scale")},beforeEnter:function(e){$(document).trigger("app:barba:beforeEnter");var t=this.async();console.log("Transition",e),o.os.set(e.current.container,{autoAlpha:0,position:"fixed",top:0,left:0,width:"100%"}),o.os.set(e.next.container,{autoAlpha:1,position:"relative",top:0,left:0,width:"100%"}),appEvent.trigger("app:threejsAnimation:start"),o.os.fromTo('[data-barba="container"]:last-child .thematique-header__action .btn',{yPercent:100,duration:.8,ease:"power2.inOut"},{yPercent:0,duration:.8,ease:"power2.inOut",onComplete:function(){t()}})},enter:function(e){$(e.next.container).removeClass("is-pending"),window.globalScroll.smooth.start()}},window.initGlobal=function(){if(null!==window.navigator.userAgent.match(/MSIE|Trident/)&&n()("body").addClass("is-ie"),!0===window.isTouchDevice){n()("body").addClass("is-touch").removeClass("is-desktop");try{for(var e in document.styleSheets){var t=document.styleSheets[e];if(t.rules)for(var i=t.rules.length-1;i>=0;i--)t.rules[i].selectorText&&t.rules[i].selectorText.match(":hover")&&t.deleteRule(i)}}catch(e){}}else n()("body").addClass("is-desktop").removeClass("is-touch");appEvent.listen("app:launcEnterAnimation",(function(){window.scrollAnimation.update()})),window.menuNav.initView(),window.appEvent.listen("app:barba:isLoaded",(function(){window.menuNav.initView(),n()("[data-loop-section].duplicated").length&&n()("[data-loop-section].duplicated").remove(),window.globalScroll.smooth.options.infinite=!1})),appEvent.listen("app:threejsAnimation:start",(function(){window.scrollAnimation.lazyload(),window.scrollAnimation.initView(),window.scrollAnimation.update(),window.scrollAnimation.initEnterAnimation()}))},window.initView=function(){window.menuNav.updateCurrentLink()};var r=new Promise((function(e,t){Promise.all([i.e(375),i.e(854)]).then(i.bind(i,5710)).then((function(i){console.log(i);var a=i.default;a?(window.barba=new a,window.barba.setDefaultTransition(),window.barba.addTransition(window.thematiquesTransition),e(!0)):t(new Error("Failed to load BarbaJs"))})).catch((function(e){console.error("Error loading BarbaJs module:",e),t(e)}))})),s=new Promise((function(e){Promise.all([i.e(133),i.e(327)]).then(i.bind(i,1920)).then((function(){e(!0)}))})),l=new Promise((function(e){i.e(598).then(i.bind(i,6328)).then((function(t){var i=t.default;window.globalScroll=new i({smooth:!0,offset:"header"}),e(!0)}))})),d=new Promise((function(e){i.e(830).then(i.bind(i,3693)).then((function(t){t.default,window.menuNav.init(),e(!0)}))}));Promise.all([r,l,s,d]).then((function(){window.barba.init(),window.globalScroll.init().then((function(){window.scrollAnimation.init(),window.scrollAnimation.initGlobal(),window.scrollAnimation.lazyload(),window.landingLoader.init()}))}))}}]);