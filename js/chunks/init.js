"use strict";(self.webpackChunkwibicom_stater_pack=self.webpackChunkwibicom_stater_pack||[]).push([[385],{5652:(e,i,t)=>{t.r(i);var n=t(2726),a=t.n(n),o=t(5880);window.thematiquesTransition={name:"themathiquesTransition",sync:!0,from:{namespace:["thematiquesIndex"]},to:{namespace:["thematiquesDetails"]},before:function(e){var i=this.async();console.log($(e.trigger).parent());var t=o.os.timeline({onComplete:function(){i(),$(document).trigger("app:barba:beforeDone")}});window.thematiquesSlideshow.slideTo($(e.trigger).parent().index(),400),t.to("[data-barba-namespace]:last-child .swiper-top .swiper-slide:not(.swiper-slide-active)",{yPercent:-100,autoAlpha:0,ease:"power2.out"},"hide"),t.to("[data-barba-namespace]:last-child .swiper-content .swiper-slide:not(.swiper-slide-active)",{yPercent:100,autoAlpha:0,ease:"power2.out"},"hide"),t.to("[data-barba-namespace]:last-child .swiper-content .swiper-slide.swiper-slide-active .meta,[data-barba-namespace]:last-child .swiper-content .swiper-slide.swiper-slide-active .btn-cta",{autoAlpha:0,ease:"power2.out"},"hide")},beforeLeave:function(e){var i=this.async();window.globalScroll.smooth.stop(),o.os.set(e.next.container,{autoAlpha:0,position:"absolute",top:0,left:0,width:"100%"}),o.os.set('[data-barba="container"]:last-child .thematique-header__action .btn',{yPercent:100});var t=o.os.timeline({onComplete:function(){i()}}),n=$('[data-barba="container"]:last-child h1'),a=[],r=n[0].getBoundingClientRect();a.fontSize=n.css("font-size"),a.top=r.top,a.left=r.left,a.width=r.width;var s=$('[data-barba="container"]:first-child .swiper-slide.swiper-slide-active h2')[0].getBoundingClientRect(),l=[],d=$('[data-barba="container"]:last-child .row.gallery')[0].getBoundingClientRect(),c=$('[data-barba="container"]:first-child .row.gallery')[0].getBoundingClientRect();l.top=d.top,l.left=d.x,l.width=d.width,console.log(r),o.os.set('[data-barba="container"]:first-child .swiper-content .swiper-slide.swiper-slide-active h2',{position:"absolute"}),o.os.set('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery',{position:"absolute",minWidth:"auto",transformOrigin:"top center",width:c.width}),t.to('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery',{y:-c.top-c.height+l.top,duration:.8,ease:"power2.inOut"},"order"),t.to('[data-barba="container"]:first-child .swiper-content .swiper-slide.swiper-slide-active h2',{fontSize:a.fontSize,y:-s.top+a.top,duration:.8,ease:"power2.inOut"},"order"),t.to('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery',{x:l.width/2-c.width/2-2.5,width:l.width,duration:.8,ease:"power2.out"},"scale"),t.to('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery',{marginLeft:"-5px",marginRight:"-5px",duration:.8,ease:"power2.out"},"scale"),t.to('[data-barba="container"]:first-child .swiper-top .swiper-slide.swiper-slide-active .row.gallery .cover-image-wrapper',{padding:"5px",duration:.8,ease:"power2.out"},"scale"),t.to('[data-barba="container"]:first-child .swiper-content .swiper-slide.swiper-slide-active h2',{x:-(window.innerWidth/2-a.width/2)+a.left,duration:.8,ease:"power2.out"},"scale")},beforeEnter:function(e){$(document).trigger("app:barba:beforeEnter");var i=this.async();console.log("Transition",e),o.os.set(e.current.container,{autoAlpha:0,position:"fixed",top:0,left:0,width:"100%"}),o.os.set(e.next.container,{autoAlpha:1,position:"relative",top:0,left:0,width:"100%"}),appEvent.trigger("app:threejsAnimation:start"),o.os.fromTo('[data-barba="container"]:last-child .thematique-header__action .btn',{yPercent:100,duration:.8,ease:"power2.inOut"},{yPercent:0,duration:.8,ease:"power2.inOut",onComplete:function(){i()}})},enter:function(e){$(e.next.container).removeClass("is-pending"),window.globalScroll.smooth.start()}},window.initGlobal=function(){if(null!==window.navigator.userAgent.match(/MSIE|Trident/)&&a()("body").addClass("is-ie"),!0===window.isTouchDevice){a()("body").addClass("is-touch").removeClass("is-desktop");try{for(var e in document.styleSheets){var i=document.styleSheets[e];if(i.rules)for(var t=i.rules.length-1;t>=0;t--)i.rules[t].selectorText&&i.rules[t].selectorText.match(":hover")&&i.deleteRule(t)}}catch(e){}}else a()("body").addClass("is-desktop").removeClass("is-touch");appEvent.listen("app:launcEnterAnimation",(function(){window.scrollAnimation.update()})),window.menuNav.initView(),window.appEvent.listen("app:barba:isLoaded",(function(){window.menuNav.initView(),a()("[data-loop-section].duplicated").length&&a()("[data-loop-section].duplicated").remove(),window.globalScroll.smooth.options.infinite=!1})),appEvent.listen("app:threejsAnimation:start",(function(){window.scrollAnimation.lazyload(),window.scrollAnimation.initView(),window.scrollAnimation.update(),window.scrollAnimation.initEnterAnimation()}))},window.initView=function(){window.menuNav.updateCurrentLink()};var r=new Promise((function(e,i){Promise.all([t.e(375),t.e(854)]).then(t.bind(t,5710)).then((function(t){console.log(t);var n=t.default;n?(window.barba=new n,window.barba.setDefaultTransition(),window.barba.addTransition(window.thematiquesTransition),e(!0)):i(new Error("Failed to load BarbaJs"))})).catch((function(e){console.error("Error loading BarbaJs module:",e),i(e)}))})),s=new Promise((function(e){Promise.all([t.e(200),t.e(327)]).then(t.bind(t,1920)).then((function(){e(!0)}))})),l=new Promise((function(e){t.e(598).then(t.bind(t,6328)).then((function(i){var t=i.default;window.globalScroll=new t({smooth:!0,offset:"header"}),e(!0)}))})),d=new Promise((function(e){t.e(830).then(t.bind(t,3693)).then((function(i){i.default,window.menuNav.init(),e(!0)}))}));Promise.all([r,l,s,d]).then((function(){window.barba.init(),window.globalScroll.init().then((function(){window.scrollAnimation.init(),window.scrollAnimation.initGlobal(),window.scrollAnimation.initView(),window.scrollAnimation.lazyload(),window.landingLoader.init()}))}))}}]);